"0","set.seed(params$seed)"
"0",""
"0","# Modifier function"
"0","Modifier <- function(skill) {"
"0","  Modifier <- floor((skill-10)/2)"
"0","}"
"0",""
"0","# Currency Conversion function"
"0","gp_conversion <- function(value, append_GP = FALSE) {"
"0","  if (grepl("","", value)) {"
"0","    allCurrencies <- NULL"
"0","    "
"0","    if (grepl("", "", value)) {"
"0","      delim <- "", """
"0","    } else if (grepl("","", value)) {"
"0","      delim <- "","""
"0","    }"
"0","    "
"0","    allCurrencies <- strsplit(value, delim)[[1]]"
"0","    "
"0","    number <- 0"
"0","    for (n in allCurrencies){"
"0","      m <- parse_number(n)"
"0","      "
"0","      if (grepl('gp', n,ignore.case = TRUE)) {"
"0","        number <- number + m"
"0","      } else if (grepl('sp', n,ignore.case = TRUE)) {"
"0","        number <- number + m/10"
"0","      } else if (grepl('cp', n,ignore.case = TRUE)) {"
"0","        number <- number + m/100"
"0","      } else if (grepl('pp', n,ignore.case = TRUE)) {"
"0","        number <- number + m*10"
"0","      }"
"0","    }"
"0","  } else {"
"0","    number <- parse_number(value)"
"0","    "
"0","    if (grepl('sp', value,ignore.case = TRUE)) {"
"0","      number <- number/10"
"0","    } else if (grepl('cp', value,ignore.case = TRUE)) {"
"0","      number <- number/100"
"0","    } else if (grepl('cp', value,ignore.case = TRUE)) {"
"0","      number <- number*10"
"0","    }"
"0","  }"
"0","  "
"0","  if (append_GP) {"
"0","    gp_conversion <- paste(number,""gp"", sep ="" "")"
"0","  } else {"
"0","    gp_conversion <- number"
"0","  }"
"0","}"
"0",""
"0","gp_all_currencies <- function(gp_decimal) {"
"0","  value <- trunc(gp_decimal*100)/100"
"0",""
"0","  if(value < 0.01) {"
"0","    gp_all_currencies <- ""0gp"""
"0","  } else {"
"0","    if (is.character(value)) {"
"0","      value <- parse_number(value)"
"0","    } else {"
"0","      value <- as.numeric(value)"
"0","    }"
"0","    "
"0","    numbers <- strsplit(as.character(value*100),"""")[[1]]"
"0","    if (length(numbers) == 1) {"
"0","      numbers <- c(0,numbers[1])"
"0","    } else {"
"0","      numbers <- c(numbers[length(numbers)-1], numbers[length(numbers)])"
"0","    }"
"0","    "
"0","    total <- """""
"0","    "
"0","    if (floor(value) == 0) {"
"0","      gp <- 0"
"0","    } else {"
"0","      gp <- floor(value)"
"0","      "
"0","      if (gp > 1000) {"
"0","        pp <- trunc(gp/1000)"
"0","        gp <- gp - pp*1000"
"0","        "
"0","        total <- paste(pp,""pp"", sep = """")"
"0","      } else {"
"0","        pp <- 0"
"0","      }"
"0","      "
"0","      if (pp > 0) {"
"0","        total <- paste(total,"", "", gp, ""gp"", sep ="""")"
"0","      } else {"
"0","        total <- paste(gp,""gp"", sep = """")"
"0","      }"
"0","    }"
"0","    "
"0","    if (numbers[1] != 0) {"
"0","      sp <- numbers[1]"
"0","      "
"0","      if (gp == 0) {"
"0","        total <- paste(sp, ""sp"", sep ="""")"
"0","      } else {"
"0","        total <- paste(total,"", "", sp, ""sp"", sep ="""")"
"0","      }"
"0","    } else {"
"0","      sp <- 0"
"0","    }"
"0","    "
"0","    if (numbers[2] != 0) {"
"0","      cp <- numbers[2]"
"0","      "
"0","      if (gp == 0 && sp == 0) {"
"0","        total <- paste(cp, ""cp"", sep ="""")"
"0","      } else {"
"0","        total <- paste(total,"", "", cp, ""cp"", sep ="""")"
"0","      }"
"0","    }"
"0","    "
"0","    gp_all_currencies <- total"
"0","  }"
"0","}"
"0",""
"0","Ancestries <- tibble(read.csv(""Ancestries.csv"")) %>% filter(Level.0.Character.Override != ""Unavailable"")"
"0","Backgrounds <- tibble(read.csv(""Backgrounds.csv"")) %>% filter(RarityOverride != ""Unavailable"")"
"0","simpleWeapons <- tibble(read.csv(""simple_weapons.csv"")) %>% filter(Available == ""TRUE"") %>% mutate(Bulk = replace(Bulk, Bulk == """",0))"
"0","adventuringGear <- tibble(read.csv(""adventuring_gear.csv"")) %>% filter(Available == ""TRUE"") %>% mutate(Bulk = replace(Bulk, Bulk == """",0)) %>% replace(is.na(.), """") %>% mutate(Bulk = replace_na(Bulk,0)) %>% mutate(Price = replace(Price, Price == """",0))"
"0","swag <- tibble(read.csv(""swag.csv"")) %>% mutate(Bulk = replace(Bulk, Bulk == """",0)) %>% mutate(Bulk = replace_na(Bulk,0)) %>% replace(is.na(.), """") %>% mutate(Price = replace(Price, Price == """",0))"
